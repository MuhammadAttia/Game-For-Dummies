<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Games for Dummies </title>
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <!-- Main -->
    <link href="css/main.css" rel="stylesheet">
    <!-- lobster font -->
    <link href = "css/lobster.css" rel="stylesheet"/>

    <script>
      var turn = false;
      var grid = [-1, -1, -1, -1, -1, -1, -1, -1, -1];
      var map = {"r1c1": 0, "r1c2": 1, "r1c3": 2, "r2c1": 3, "r2c2": 4,
          "r2c3": 5, "r3c1": 6, "r3c2": 7, "r3c3": 8};
      var playCounts = 0;
      function play(id) {
        playCounts += 1;
        whoTurn();
        var index = map[id];
        node = document.getElementById(id);
        node.removeAttribute("onclick");
        if(turn) {
          grid[index] = 1;
          var elem = document.createElement("img");
          elem.setAttribute("src", "images/X.png");
          elem.setAttribute("alt", "X");
          elem.setAttribute("class", "img-responsive");
          node.appendChild(elem);
        } else{
          grid[index] = 2;
          var elem = document.createElement("img");
          elem.setAttribute("src", "images/O.png");
          elem.setAttribute("alt", "O");
          elem.setAttribute("class", "img-responsive");
          node.appendChild(elem);
        }
        winner();
      }

      function whoTurn() {
        turn = !turn;
      }

      function winner() {

        if((grid[0] == 1 || grid[0] == 2) && grid[0] == grid[1] && grid[1] == grid[2]) {
          whoWins(grid[0]);
        } else if((grid[3] == 1 || grid[3] == 2) && grid[3] == grid[4] && grid[4] == grid[5]) {
          whoWins(grid[3]);
        } else if((grid[6] == 1 || grid[6] == 2) && grid[6] == grid[7] && grid[7] == grid[8]) {
          whoWins(grid[6]);
        } else if((grid[0] == 1 || grid[0] == 2) && grid[0] == grid[3] && grid[3] == grid[6]) {
          whoWins(grid[0]);
        } else if((grid[1] == 1 || grid[1] == 2) && grid[1] == grid[4] && grid[4] == grid[7]) {
          whoWins(grid[1]);
        } else if((grid[2] == 1 || grid[2] == 2) && grid[2] == grid[5] && grid[5] == grid[8]) {
          whoWins(grid[2]);
        } else if((grid[0] == 1 || grid[0] == 2) && grid[0] == grid[4] && grid[4] == grid[8]) {
          whoWins(grid[0]);
        } else if((grid[2] == 1 || grid[2] == 2) && grid[2] == grid[4] && grid[4] == grid[6]) {
          whoWins(grid[2]);
        } else if(playCounts == 9) {
          var elem = document.createElement("h1");
          elem.setAttribute("class", "text-center");
          msg = document.createTextNode("Tie happends.\n");
          elem.appendChild(msg);
          document.getElementById("congratsmsg").appendChild(elem);
        }
      }

      function whoWins(winnerid) {
        stop();
        if(winnerid == 1) {
          var elem = document.createElement("h1");
          elem.setAttribute("class", "text-center");
          msg = document.createTextNode("Player1 wins.\n");
          elem.appendChild(msg);
          document.getElementById("congratsmsg").appendChild(elem);
        } else{
          var elem = document.createElement("h1");
          elem.setAttribute("class", "text-center");
          msg = document.createTextNode("Player2 wins.\n");
          elem.appendChild(msg);
          document.getElementById("congratsmsg").appendChild(elem);
        }
      }


      function stop() {
        for (var key in map) {
          document.getElementById(key).removeAttribute("onclick");
        }
      }

    </script>
</head>
<body>
    <nav class="navbar navbar-defoult">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <div class="logo">
                    <img src="images/Logo.png" class="img-rounded">
                </div>
            </div>
            <div id="logo">
              <p><big>G</big><small>ames <big>f</big>or <big>D</big>ummies </small></p>
            </div>
            <ul class="nav navbar-nav">
                <li ><a href="index.html">Home</a></li>
                <li><a href="matching.html">Matching </a></li>
                <li><a href="image_filter.html">Image Filter </a></li>
                <li><a href="color_guessing.html">Color Guessing</a></li>
                <li class="active"><a href="tic_tac.html">Tic Tac</a></li>
            </ul>
        </div>
    </nav>
    <div class="container">
        <div class="row white">
          <h1 class="text-primary">This is regular tic tac toe game player 1 play first.</h1>
          <h1 class="text-primary">to play click on this grid.  </h1>
          <div class="row">
            <div class="col-xs-1 col-xs-offset-4">
                <div id="r1c1" class="rectangleXO" onclick="play(this.id)"></div>
            </div>
            <div class="col-xs-1">
                <div id="r1c2" class="rectangleXO" onclick="play(this.id)"> </div>
            </div>
            <div class="col-xs-1">
                <div id="r1c3" class="rectangleXO" onclick="play(this.id)"></div>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-1 col-xs-offset-4">
                <div id="r2c1" class="rectangleXO" onclick="play(this.id)"></div>
            </div>
            <div class="col-xs-1">
                <div id="r2c2" class="rectangleXO" onclick="play(this.id)"> </div>
            </div>
            <div class="col-xs-1">
                <div id="r2c3" class="rectangleXO" onclick="play(this.id)"></div>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-1 col-xs-offset-4">
                <div id="r3c1" class="rectangleXO" onclick="play(this.id)"></div>
            </div>
            <div class="col-xs-1">
                <div id="r3c2" class="rectangleXO" onclick="play(this.id)"></div>
            </div>
            <div class="col-xs-1">
                <div id="r3c3" class="rectangleXO" onclick="play(this.id)"></div>
            </div>
          </div>
          <div class = "row">
              <div class = "col-xs-12" id = "congratsmsg">
              </div>
          </div>
          <div class="col-xs-6">
              <button type="button" class="btn btn-primary" onclick="location.reload()">Reset</button>
          </div>
        </div>
        <div class="row footer">
            Games for Dummies &copy 2016
        </div>
    </div>
</body>

</html>
